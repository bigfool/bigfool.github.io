<!doctype html>
<html class="theme-next ">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

















<link href="//font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="//main.css?v=" rel="stylesheet" type="text/css" />














<meta name="description" content="一辈子太长有做个有趣的人">
<meta property="og:type" content="website">
<meta property="og:title" content="大憨的XXX">
<meta property="og:url" content="http://www.kechuandai.net/index.html">
<meta property="og:site_name" content="大憨的XXX">
<meta property="og:description" content="一辈子太长有做个有趣的人">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="大憨的XXX">
<meta name="twitter:description" content="一辈子太长有做个有趣的人">



<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: '',
    motion: 
  };
</script>

  <title> 大憨的XXX </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  <!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->
  






  <div class="container one-column 
   page-home 
">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">大憨的XXX</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">谁会来买kechuandai.net啊</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div id="content" class="content">
          
  <section id="posts" class="posts-expand">

    

    
    

    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/03/python基础知识笔记/" itemprop="url">
                  python基础知识笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-03T00:01:55+08:00" content="2015-11-03">
              2015-11-03
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="python学习笔记">python学习笔记</h1><p>[toc]</p>
<p>以前写的笔记，参考慕课网上廖雪峰老师的视频和廖雪峰老师的博客，感谢廖雪峰老师！<br>地址为：<br><a href="http://www.imooc.com/learn/177" target="_blank" rel="external">http://www.imooc.com/learn/177</a><br><a href="http://www.imooc.com/learn/317" target="_blank" rel="external">http://www.imooc.com/learn/317</a><br><a href="http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000" target="_blank" rel="external">http://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000</a></p>
<p>#1Python变量和数据类型</p>
<p>##1.1 变量<br>a = ‘ABC’时，Python解释器干了两件事情：</p>
<ol>
<li>在内存中创建了一个’ABC’的字符串；</li>
<li>在内存中创建了一个名为a的变量，并把它指向’ABC’。</li>
</ol>
<p>##1.2字符串<br>如果字符串本身包含’怎么办？比如我们要表示字符串 I’m OK ，这时，可以用” “括起来表示：</p>
<blockquote>
<p>“I’m OK”</p>
</blockquote>
<p>类似的，如果字符串包含”，我们就可以用’ ‘括起来表示：</p>
<blockquote>
<p>‘Learn “Python” in imooc’</p>
</blockquote>
<p>如果字符串既包含’又包含”怎么办？<br>这个时候，就需要对字符串的某些特殊字符进行“转义”，Python字符串用\进行转义。</p>
<p>如果一个字符串包含很多需要转义的字符，对每一个字符都进行转义会很麻烦。为了避免这种情况，我们可以在字符串前面加个前缀 r ，表示这是一个 raw 字符串，里面的字符就不需要转义了。例如：</p>
<blockquote>
<p>r’(~<em>~)/ (~</em>~)/‘</p>
</blockquote>
<p>如果要表示多行字符串，可以用’’’…’’’表示：</p>
<blockquote>
<p>‘’’Line 1<br>Line 2<br>Line 3’’’</p>
</blockquote>
<p>还可以在多行字符串前面添加 r ，把这个多行字符串也变成一个raw字符串：</p>
<blockquote>
<p>r’’’Python is created by “Guido”.<br>It is free and easy to learn.<br>Let’s start learn Python in imooc!’’’</p>
</blockquote>
<p>##1.3 Unicode编码<br>Unicode通常用两个字节表示一个字符，原有的英文编码从单字节变成双字节，只需要把高字节全部填为0就可以。<br>Python在后来添加了对Unicode的支持，以Unicode表示的字符串用u’…’表示，比如：</p>
<blockquote>
<p>print u’中文’<br>中文</p>
</blockquote>
<p>注意: 不加 u ，中文就不能正常显示。</p>
<p>如果中文字符串在Python环境下遇到 UnicodeDecodeError，这是因为.py文件保存的格式有问题。可以在第一行添加注释</p>
<blockquote>
<p># -<em>- coding: utf-8 -</em>-</p>
</blockquote>
<p>目的是告诉Python解释器，用UTF-8编码读取源代码。</p>
<p>##1.4 布尔类型<br>Python把0、空字符串’’和None看成 False，其他数值和非空字符串都看成 True</p>
<p>#2 List 和 Tuple类型</p>
<p>##2.1 List<br>list是一种有序的集合，可以随时添加和删除其中的元素。<br>由于Python是动态语言，所以list中包含的元素并不要求都必须是同一种数据类型，我们完全可以在list中包含各种数据：</p>
<blockquote>
<p>>&gt;&gt; L = [‘Michael’, 100, True]</p>
</blockquote>
<p>通过索引来获取list中的指定元素。<br>需要特别注意的是，索引从 0 开始，也就是说，第一个元素的索引是0，第二个元素的索引是1，以此类推。</p>
<blockquote>
<p>print L[0], L[1]</p>
</blockquote>
<p>倒序访问：-1表示最后一个元素，-2表示倒数第二个元素。。。</p>
<p>添加元素：<br>appent(元素) 在列表末尾添加<br>insert(索引号，元素) 在指定位置添加</p>
<p>删除元素：<br>pop() 删除list中最后一个元素<br>pop(索引号) 删除list中指定位置的元素</p>
<p>对list中的某一个索引赋值，就可以直接用新的元素替换掉原来的元素，list包含的元素个数保持不变。</p>
<blockquote>
<p>L = [‘Adam’, ‘Lisa’, ‘Bart’]<br>L[0] = ‘Bart’<br>L[2] = ‘Adam’<br>print L</p>
<blockquote>
<p>[‘Bart’, ‘Lisa’, ‘Adam’]</p>
</blockquote>
</blockquote>
<p>##2.2 tuple 元组<br>另一种有序列表，但是一旦创建完毕，就不能修改。<br>创建tuple用小括号( )</p>
<blockquote>
<p>t = (‘Adam’, ‘Lisa’, ‘Bart’)</p>
</blockquote>
<p>获取 tuple 元素的方式和 list 是一模一样的，我们可以正常使用 t[0]，t[-1]等索引方式访问元素，但是不能赋值成别的元素。</p>
<p>包含 0 个元素的 tuple，也就是空tuple，直接用 ()表示：</p>
<blockquote>
<p>>&gt;&gt; t = ()<br>>&gt;&gt; print t<br>()</p>
</blockquote>
<p>创建包含1个元素的 tuple 呢？来试试：</p>
<blockquote>
<p>>&gt;&gt; t = (1)<br>>&gt;&gt; print t<br>1</p>
</blockquote>
<p>好像哪里不对！t 不是 tuple ，而是整数1。为什么呢？<br>因为()既可以表示tuple，又可以作为括号表示运算时的优先级，结果 (1) 被Python解释器计算出结果 1，导致我们得到的不是tuple，而是整数 1。<br>正是因为用()定义单元素的tuple有歧义，所以 Python 规定，单元素 tuple 要多加一个逗号“,”，这样就避免了歧义。</p>
<blockquote>
<p>>&gt;&gt; t = (1,)<br>>&gt;&gt; print t<br>(1,)</p>
</blockquote>
<p>tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。即指向’a’，就不能改成指向’b’，指向一个list，就不能改成指向其他对象，但指向的这个list本身是可变的！<br>理解了“指向不变”后，要创建一个内容也不变的tuple怎么做？那就必须保证tuple的每一个元素本身也不能变。<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435211925480.png" alt="Alt text"></p>
<p>当我们把list的元素’A’和’B’修改为’X’和’Y’后，tuple变为：<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435211950921.png" alt="Alt text"></p>
<p>#3 条件判断和循环</p>
<p>##3.1 if条件判断</p>
<p>输入用户年龄，根据年龄打印不同的内容，在Python程序中，可以用if语句实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">20</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'your age is'</span>, age</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'adult'</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'END'</span></span><br></pre></td></tr></table></figure></p>
<p>python缩进：Python的习惯写法：4个空格，不要使用Tab，更不要混合Tab和空格，否则很容易造成因为缩进引起的语法错误。</p>
<p> if 语句后接表达式，然后用:表示代码块开始。</p>
<p>避免嵌套结构的 if … else …，我们可以用 if … 多个elif … else … 的结构，一次写完所有的规则：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'adult'</span></span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">6</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'teenager'</span></span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">3</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'kid'</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'baby'</span></span><br></pre></td></tr></table></figure></p>
<p>##3.2 for循环<br>Python的 for 循环就可以依次把list或tuple的每个元素迭代出来：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">'Adam'</span>, <span class="string">'Lisa'</span>, <span class="string">'Bart'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> L:</span><br><span class="line">    <span class="keyword">print</span> name</span><br></pre></td></tr></table></figure></p>
<p>求平均值：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="number">75</span>, <span class="number">92</span>, <span class="number">59</span>, <span class="number">68</span>]</span><br><span class="line">sum = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> L:</span><br><span class="line">    sum = sum + i</span><br><span class="line"><span class="keyword">print</span> sum / <span class="number">4</span></span><br></pre></td></tr></table></figure></p>
<p>##3.3 while循环<br>计算100以内的所有奇数和：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line">x = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> x &lt; <span class="number">100</span>:</span><br><span class="line">    sum = sum + x;</span><br><span class="line">    x = x + <span class="number">2</span></span><br><span class="line"><span class="keyword">print</span> sum</span><br></pre></td></tr></table></figure></p>
<p>break退出循环。<br>计算 1 + 2 + 4 + 8 + 16 + … 的前20项的和：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line">x = <span class="number">1</span></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    sum = sum + x</span><br><span class="line">    x = x * <span class="number">2</span></span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">20</span>:</span><br><span class="line">        <span class="keyword">break</span> </span><br><span class="line"><span class="keyword">print</span> sum</span><br></pre></td></tr></table></figure></p>
<p>continue继续循环<br>对已有的计算 0 - 100 的while循环进行改造，通过增加 continue 语句，使得只计算奇数的和：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">    x = x + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">100</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> x % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    sum = sum + x</span><br><span class="line"><span class="keyword">print</span> sum</span><br></pre></td></tr></table></figure></p>
<p>#4 dict字典</p>
<p>##4.1 dict定义<br>键值对 key : value。</p>
<blockquote>
<p>d = {<br>    ‘Adam’: 95,<br>    ‘Lisa’: 85,<br>    ‘Bart’: 59<br>}</p>
</blockquote>
<p>python 中用花括号{}表示。dict是集合，用len()函数可以计算任意集合的大小。</p>
<p>##4.2dict查找<br>使用 d[key] 的形式来查找对应的 value。<br>通过 key 访问 dict 的value，只要 key 存在，dict就返回对应的value。如果key不存在，会直接报错：KeyError。<br><em>要避免 KeyError 发生，有两个办法：</em></p>
<ul>
<li><p>(1)是先判断一下 key 是否存在，用 in 操作符：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="string">'Paul'</span> <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">print</span> d[<span class="string">'Paul'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>(2)是使用dict本身提供的一个 get 方法，在Key不存在的时候，返回None：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> d.get(<span class="string">'Paul'</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>##4.3 dict的特点<br>dict的特点：</p>
<ul>
<li>(1) 查找速度快，无论dict有10个元素还是10万个元素，查找速度都一样。而list的查找速度随着元素增加而逐渐下降。dict的缺点是占用内存大，还会浪费很多内容，list正好相反，占用内存小，但是查找速度慢。<br>由于dict是按 key 查找，所以，在一个dict中，key不能重复。</li>
<li>(2) 存储的key-value序对是没有顺序的！</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;</span><br><span class="line">    <span class="string">'Adam'</span>: <span class="number">95</span>,</span><br><span class="line">    <span class="string">'Lisa'</span>: <span class="number">85</span>,</span><br><span class="line">    <span class="string">'Bart'</span>: <span class="number">59</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">print</span> <span class="string">'Adam'</span>,<span class="string">": "</span>, d[<span class="string">'Adam'</span>]</span><br><span class="line"><span class="keyword">print</span> <span class="string">'Lisa'</span>,<span class="string">": "</span>, d[<span class="string">'Lisa'</span>]</span><br><span class="line"><span class="keyword">print</span> <span class="string">'Bart'</span>,<span class="string">": "</span>, d[<span class="string">'Bart'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">print</span> name, <span class="string">": "</span>, d.get(name)</span><br></pre></td></tr></table></figure>
<p>如上for循环语句：<br>打印的顺序不一定是我们创建时的顺序，而且，不同的机器打印的顺序都可能不同，这说明dict内部是无序的，不能用dict存储有序的集合。</p>
<ul>
<li>(3) 作为key的元素必须不可变。Python的基本类型如字符串、整数、浮点数都是不可变的，都可以作为 key。但是list是可变的，就不能作为 key。不可变这个限制仅作用于key，value是否可变无所谓。</li>
</ul>
<p>##4.4 更新dict<br>往dict中添加新的 key-value：</p>
<blockquote>
<p>d[key] = value</p>
</blockquote>
<p>如果key已经存在，则赋值会用新的value替换掉原来的value。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;</span><br><span class="line">    <span class="number">95</span>: <span class="string">'Adam'</span>,</span><br><span class="line">    <span class="number">85</span>: <span class="string">'Lisa'</span>,</span><br><span class="line">    <span class="number">59</span>: <span class="string">'Bart'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">d[<span class="number">72</span>] = <span class="string">'Paul'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> d:</span><br><span class="line">    <span class="keyword">print</span> name, <span class="string">": "</span>, d.get(name)</span><br></pre></td></tr></table></figure></p>
<p>##4.5遍历dict<br>for循环实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dict:</span><br><span class="line">    do something</span><br></pre></td></tr></table></figure></p>
<p>#5 set集合</p>
<p>##5.1 set的定义与创建<br>set的元素没有重复，而且是无序的。<br>创建 set 的方式是调用 set() 并传入一个 list，list的元素将作为set的元素：</p>
<blockquote>
<p>s = set([‘A’, ‘B’, ‘C’])</p>
</blockquote>
<p>##5.2访问set<br>由于set存储的是无序集合，所以我们没法通过索引来访问。<br>访问 set中的某个元素实际上就是判断一个元素是否在set中，用in操作符判断。</p>
<p>##5.3set的特点</p>
<ul>
<li>set的内部结构和dict很像，唯一区别是不存储value，因此，判断一个元素是否在set中速度很快。</li>
<li>set存储的元素和dict的key类似，必须是不变对象，因此，任何可变对象是不能放入set中的。</li>
<li>set存储的元素是没有顺序的。</li>
</ul>
<p>set的这些特点，可以应用在哪些地方呢？<br>星期一到星期日可以用字符串’MON’, ‘TUE’, … ‘SUN’表示。<br>假设我们让用户输入星期一至星期日的某天，如何判断用户的输入是否是一个有效的星期呢？<br>可以用 if 语句判断，但这样做非常繁琐：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">'???'</span> <span class="comment"># 用户输入的字符串</span></span><br><span class="line"><span class="keyword">if</span> x!= <span class="string">'MON'</span> <span class="keyword">and</span> x!= <span class="string">'TUE'</span> <span class="keyword">and</span> x!= <span class="string">'WED'</span> ... <span class="keyword">and</span> x!= <span class="string">'SUN'</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'input error'</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'input ok'</span></span><br></pre></td></tr></table></figure></p>
<p>注意：if 语句中的…表示没有列出的其它星期名称，测试时，请输入完整。</p>
<p>如果事先创建好一个set，包含’MON’ ~ ‘SUN’：</p>
<blockquote>
<p>weekdays = set([‘MON’, ‘TUE’, ‘WED’, ‘THU’, ‘FRI’, ‘SAT’, ‘SUN’])</p>
</blockquote>
<p>再判断输入是否有效，只需要判断该字符串是否在set中：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">'???'</span> <span class="comment"># 用户输入的字符串</span></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">in</span> weekdays:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'input ok'</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">print</span> <span class="string">'input error'</span></span><br></pre></td></tr></table></figure></p>
<p>这样一来，代码就简单多了。<br>白名单，黑名单过滤。</p>
<p>##5.4遍历set<br>for循环实现：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = set([<span class="string">'Adam'</span>, <span class="string">'Lisa'</span>, <span class="string">'Bart'</span>])</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">print</span> name</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = set([(<span class="string">'Adam'</span>, <span class="number">95</span>), (<span class="string">'Lisa'</span>, <span class="number">85</span>), (<span class="string">'Bart'</span>, <span class="number">59</span>)])</span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> s:</span><br><span class="line">    <span class="keyword">print</span> x[<span class="number">0</span>], <span class="string">': '</span>, x[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>##5.5 更新set<br>添加元素add()，删除元素remove()。<br>如果删除的元素不存在set中，remove()会报错：KeyError。remove()前要判断。</p>
<p>针对下面的set，给定一个list，对list中的每一个元素，如果在set中，就将其删除，如果不在set中，就添加进去。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">s = set([<span class="string">'Adam'</span>, <span class="string">'Lisa'</span>, <span class="string">'Paul'</span>])</span><br><span class="line">L = [<span class="string">'Adam'</span>, <span class="string">'Lisa'</span>, <span class="string">'Bart'</span>, <span class="string">'Paul'</span>]</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> L:</span><br><span class="line">    <span class="keyword">if</span> key <span class="keyword">in</span> s:</span><br><span class="line">        s.remove(key)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        s.add(key)</span><br><span class="line"><span class="keyword">print</span> s</span><br></pre></td></tr></table></figure></p>
<p>#6 函数<br>要调用一个函数，需要知道函数的名称和参数，调用函数的时候，如果传入的参数数量不对，会报TypeError的错误，并且给出错误信息。如果传入的参数数量是对的，但参数类型不能被函数所接受，也会报TypeError的错误，并且给出错误信息。</p>
<p>以在交互式命令行通过 help(abs) 查看abs函数的帮助信息。<br>int()函数可以把其他数据类型转换为整数。<br>str()函数把其他类型转换成 str。</p>
<p>sum()函数接受一个list作为参数，并返回list所有元素之和。请计算 1<em>1 + 2</em>2 + 3<em>3 + … + 100</em>100。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L = []</span><br><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> n&lt;=<span class="number">100</span>:</span><br><span class="line">    x = n * n</span><br><span class="line">    L.append(x)</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line"><span class="keyword">print</span> sum(L)</span><br></pre></td></tr></table></figure>
<p>##6.1 函数编写</p>
<p>在Python中，定义一个函数要使用 def 语句，依次写出函数名、括号、括号中的参数和冒号:，然后，在缩进块中编写函数体，函数的返回值用 return 语句返回。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_abs</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x &gt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> -x</span><br></pre></td></tr></table></figure></p>
<p>函数体内部的语句在执行时，一旦执行到return时，函数就执行完毕，并将结果返回。<br>如果没有return语句，函数执行完毕后也会返回结果，只是结果为 None。</p>
<p>请定义一个 square_of_sum 函数，它接受一个list，返回list中每个元素平方的和：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square_of_sum</span><span class="params">(L)</span>:</span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> L:</span><br><span class="line">        sum = sum + value * value</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> square_of_sum([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="keyword">print</span> square_of_sum([-<span class="number">5</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">15</span>, <span class="number">25</span>])</span><br></pre></td></tr></table></figure></p>
<p>##6.2函数返回多值<br>一元二次方程的定义是：ax² + bx + c = 0<br>请编写一个函数，返回一元二次方程的两个解。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quadratic_equation</span><span class="params">(a, b, c)</span>:</span></span><br><span class="line">    delta = math.sqrt(b * b - <span class="number">4.0</span> * a * c)</span><br><span class="line">    <span class="keyword">return</span> (-b + delta) / (<span class="number">2.0</span> * a), (-b -delta) / (<span class="number">2.0</span> * a)</span><br><span class="line"></span><br><span class="line">x1, x2 = quadratic_equation(<span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> x1, x2</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> quadratic_equation(<span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">print</span> quadratic_equation(<span class="number">1</span>, -<span class="number">6</span>, <span class="number">5</span>)</span><br></pre></td></tr></table></figure></p>
<p>其实，Python函数返回的仍然是单一值，为tuple。<br>在语法上，返回一个tuple可以省略括号，而多个变量可以同时接收一个tuple，按位置赋给对应的值，所以，Python的函数返回多值其实就是返回一个tuple。</p>
<p>##6.3 递归函数<br>在函数内部，可以调用其他函数。如果一个函数在内部调用自身本身，这个函数就是递归函数。<br>注意递归出口。<br>举个例子，我们来计算阶乘 n! = 1 <em> 2 </em> 3 <em> … </em> n，用函数 fact(n)表示，可以看出：</p>
<blockquote>
<p>fact(n) = n! = 1 <em> 2 </em> 3 <em> … </em> (n-1) <em> n = (n-1)! </em> n = fact(n-1) * n</p>
</blockquote>
<p>所以，fact(n)可以表示为 n * fact(n-1)，只有n=1时需要特殊处理。<br>于是，fact(n)用递归的方式写出来就是：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fact</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n * fact(n - <span class="number">1</span>)</span><br></pre></td></tr></table></figure></p>
<p>上面就是一个递归函数。可以试试：</p>
<blockquote>
<p>>&gt;&gt; fact(1)<br>1<br>>&gt;&gt; fact(5)<br>120<br>>&gt;&gt; fact(100)<br>93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000L</p>
</blockquote>
<p>如果我们计算fact(5)，可以根据函数定义看到计算过程如下：</p>
<blockquote>
<p>===&gt; fact(5)<br>===&gt; 5 <em> fact(4)<br>===&gt; 5 </em> (4 <em> fact(3))<br>===&gt; 5 </em> (4 <em> (3 </em> fact(2)))<br>===&gt; 5 <em> (4 </em> (3 <em> (2 </em> fact(1))))<br>===&gt; 5 <em> (4 </em> (3 <em> (2 </em> 1)))<br>===&gt; 5 <em> (4 </em> (3 <em> 2))<br>===&gt; 5 </em> (4 <em> 6)<br>===&gt; 5 </em> 24<br>===&gt; 120</p>
</blockquote>
<p>递归函数的优点是定义简单，逻辑清晰。理论上，所有的递归函数都可以写成循环的方式，但循环的逻辑不如递归清晰。<br>使用递归函数需要注意防止栈溢出。在计算机中，函数调用是通过栈（stack）这种数据结构实现的，每当进入一个函数调用，栈就会加一层栈帧，每当函数返回，栈就会减一层栈帧。由于栈的大小不是无限的，所以，递归调用的次数过多，会导致栈溢出。</p>
<p>汉诺塔问题：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">move</span><span class="params">(n, a, b, c)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">print</span> a, <span class="string">'--&gt;'</span>, c</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    move(n-<span class="number">1</span>, a, c, b)</span><br><span class="line">    <span class="keyword">print</span> a, <span class="string">'--&gt;'</span>, c</span><br><span class="line">    move(n-<span class="number">1</span>, b, a, c)</span><br><span class="line"></span><br><span class="line">move(<span class="number">4</span>, <span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>)</span><br></pre></td></tr></table></figure></p>
<p>##6.4 定义默认参数<br>定义一个计算 x 的N次方的函数:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(x, n)</span>:</span></span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure></p>
<p>假设计算平方的次数最多，我们就可以把 n 的默认值设定为 2：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">power</span><span class="params">(x, n=<span class="number">2</span>)</span>:</span></span><br><span class="line">    s = <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">        s = s * x</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure></p>
<p>这样一来，计算平方就不需要传入两个参数了：</p>
<blockquote>
<p>>&gt;&gt; power(5)<br>25</p>
</blockquote>
<p>由于<strong>函数的参数按从左到右的顺序匹配</strong>，所以默认参数只能定义在必需参数的后面。</p>
<p>##6.5 定义可变参数<br>如果想让一个函数能接受任意个参数，我们就可以定义一个可变参数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(*args)</span>:</span></span><br><span class="line">    <span class="keyword">print</span> args</span><br></pre></td></tr></table></figure></p>
<p>可变参数的名字前面有个 * 号，我们可以传入0个、1个或多个参数给可变参数。<br>原理：Python解释器会把传入的一组参数组装成一个tuple传递给可变参数，因此，在函数内部，直接把变量 args 看成一个 tuple 就好了。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">average</span><span class="params">(*args)</span>:</span></span><br><span class="line">    sum = <span class="number">0.0</span></span><br><span class="line">    ave = <span class="number">0.0</span></span><br><span class="line">    n = <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> args:</span><br><span class="line">        n = n + <span class="number">1</span></span><br><span class="line">        sum = sum + t</span><br><span class="line">    <span class="keyword">if</span> n != <span class="number">0</span>:</span><br><span class="line">        ave = sum / n</span><br><span class="line">    <span class="keyword">return</span> ave</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> average()</span><br><span class="line"><span class="keyword">print</span> average(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">print</span> average(<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure></p>
<p>#7切片</p>
<p>##7.1对list和tuple进行切片<br>用操作符冒号：</p>
<blockquote>
<p>L[起始索引 : 结束索引]</p>
</blockquote>
<p>切片操作还可以指定第三个参数：</p>
<blockquote>
<p>>&gt;&gt; L[::2]</p>
</blockquote>
<p>第三个参数表示每N个取一个，上面的 L[::2] 会每两个元素取出一个来，也就是隔一个取一个。</p>
<p>range()函数可以创建一个数列：</p>
<blockquote>
<p>>&gt;&gt; range(1, 101)<br>[1, 2, 3, …, 100]</p>
</blockquote>
<p>请利用切片，取出：</p>
<ol>
<li>前10个数；</li>
<li>3的倍数；</li>
<li>不大于50的5的倍数。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">L = range(<span class="number">1</span>, <span class="number">101</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> L[<span class="number">0</span>:<span class="number">10</span>]</span><br><span class="line"><span class="keyword">print</span> L[<span class="number">2</span>::<span class="number">3</span>]</span><br><span class="line"><span class="keyword">print</span> L[<span class="number">4</span>:<span class="number">50</span>:<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<p>倒序切片：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = range(<span class="number">1</span>, <span class="number">101</span>)</span><br><span class="line"><span class="keyword">print</span> L[-<span class="number">10</span>:]</span><br><span class="line"><span class="keyword">print</span> L[-<span class="number">46</span>::<span class="number">5</span>]</span><br></pre></td></tr></table></figure></p>
<p>##7.2 对字符串切片<br>Python没有针对字符串的截取函数，只需要切片一个操作就可以完成。</p>
<p>字符串有个方法 upper() 可以把字符变成大写字母：</p>
<blockquote>
<p>>&gt;&gt; ‘abc’.upper()<br>‘ABC’</p>
</blockquote>
<p>但它会把所有字母都变成大写。请设计一个函数，它接受一个字符串，然后返回一个仅首字母变成大写的字符串。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">firstCharUpper</span><span class="params">(s)</span>:</span></span><br><span class="line">    first = s[<span class="number">0</span>].upper()</span><br><span class="line">    t = s[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">return</span> first + t</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> firstCharUpper(<span class="string">'hello'</span>)</span><br><span class="line"><span class="keyword">print</span> firstCharUpper(<span class="string">'sunday'</span>)</span><br><span class="line"><span class="keyword">print</span> firstCharUpper(<span class="string">'september'</span>)</span><br></pre></td></tr></table></figure></p>
<p>#8迭代</p>
<p>##8.1什么是迭代<br>在Python中，如果给定一个list或tuple，我们可以通过for循环来遍历这个list或tuple，这种遍历我们成为迭代（Iteration）。</p>
<p>Python 的 for循环不仅可以用在list或tuple上，还可以作用在其他任何可迭代对象上。<br>因此，迭代操作就是对于一个集合，无论该集合是有序还是无序，我们用 for 循环总是可以依次取出集合的每一个元素。<br>注意: 集合是指包含一组元素的数据结构，我们已经介绍的包括：</p>
<ol>
<li>有序集合：list，tuple，str和unicode；</li>
<li>无序集合：set</li>
<li>无序集合并且具有 key-value 对：dict</li>
</ol>
<p>请用for循环迭代数列 1-100 并打印出7的倍数。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    <span class="keyword">if</span> i % <span class="number">7</span> == <span class="number">0</span> :</span><br><span class="line">        <span class="keyword">print</span> i</span><br></pre></td></tr></table></figure></p>
<p>##8.2索引迭代<br>Python中，迭代永远是取出元素本身，而非元素的索引。<br>对于有序集合，元素确实是有索引的。有的时候，我们确实想在 for 循环中拿到索引，怎么办？<br>方法是使用 enumerate() 函数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">'Adam'</span>, <span class="string">'Lisa'</span>, <span class="string">'Bart'</span>, <span class="string">'Paul'</span>]</span><br><span class="line"><span class="keyword">for</span> index, name <span class="keyword">in</span> enumerate(L):</span><br><span class="line">     <span class="keyword">print</span> index, <span class="string">'-'</span>, name</span><br></pre></td></tr></table></figure></p>
<p>结果是：</p>
<blockquote>
<p>0 - Adam<br>1 - Lisa<br>2 - Bart<br>3 - Paul</p>
</blockquote>
<p>使用 enumerate() 函数，我们可以在for循环中同时绑定索引index和元素name。但是，这不是 enumerate() 的特殊语法。实际上，enumerate() 函数把：<br>[‘Adam’, ‘Lisa’, ‘Bart’, ‘Paul’]<br>变成了类似：<br>[(0, ‘Adam’), (1, ‘Lisa’), (2, ‘Bart’), (3, ‘Paul’)]<br>因此，迭代的每一个元素实际上是一个tuple</p>
<p>zip()函数可以把两个 list 变成一个 list：</p>
<blockquote>
<p>>&gt;&gt; zip([10, 20, 30], [‘A’, ‘B’, ‘C’])<br>[(10, ‘A’), (20, ‘B’), (30, ‘C’)]</p>
</blockquote>
<p>在迭代 [‘Adam’, ‘Lisa’, ‘Bart’, ‘Paul’] 时，如果我们想打印出名次 - 名字（名次从1开始)，请考虑如何在迭代中打印出来。<br>提示：考虑使用zip()函数和range()函数<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">L = [<span class="string">'Adam'</span>, <span class="string">'Lisa'</span>, <span class="string">'Bart'</span>, <span class="string">'Paul'</span>]</span><br><span class="line"><span class="keyword">for</span> index, name <span class="keyword">in</span> zip(range(<span class="number">1</span>, len(L) + <span class="number">1</span>), L):</span><br><span class="line">    <span class="keyword">print</span> index, <span class="string">'-'</span>, name</span><br></pre></td></tr></table></figure></p>
<p>##8.3迭代dict的value<br>dict 对象有一个 values() 方法，这个方法把dict转换成一个包含所有value的list，这样，我们迭代的就是 dict的每一个 value：</p>
<blockquote>
<p>d = { ‘Adam’: 95, ‘Lisa’: 85, ‘Bart’: 59 }<br>print d.values()<br># [85, 95, 59]<br>for v in d.values():<br>    print v<br># 85<br># 95<br># 59</p>
</blockquote>
<p>dict除了values()方法外，还有一个 itervalues() 方法，用 itervalues() 方法替代 values() 方法，迭代效果完全一样。</p>
<p>那这两个方法有何不同之处呢？</p>
<ol>
<li>values() 方法实际上把一个 dict 转换成了包含 value 的list。</li>
<li>但是 itervalues() 方法不会转换，它会在迭代过程中依次从 dict 中取出 value，所以 itervalues() 方法比 values() 方法节省了生成 list 所需的内存。</li>
<li>打印 itervalues() 发现它返回一个 <dictionary-valueiterator> 对象，这说明在Python中，for 循环可作用的迭代对象远不止 list，tuple，str，unicode，dict等，任何可迭代对象都可以作用于for循环，而内部如何迭代我们通常并不用关心。</dictionary-valueiterator></li>
</ol>
<p>如果一个对象说自己可迭代，那我们就直接用 for 循环去迭代它，可见，迭代是一种抽象的数据操作，它不对迭代对象内部的数据有任何要求。</p>
<p>给定一个dict：<br>d = { ‘Adam’: 95, ‘Lisa’: 85, ‘Bart’: 59, ‘Paul’: 74 }<br>请计算所有同学的平均分。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">'Adam'</span>: <span class="number">95</span>, <span class="string">'Lisa'</span>: <span class="number">85</span>, <span class="string">'Bart'</span>: <span class="number">59</span>, <span class="string">'Paul'</span>: <span class="number">74</span> &#125;</span><br><span class="line"></span><br><span class="line">sum = <span class="number">0.0</span></span><br><span class="line"><span class="keyword">for</span> value <span class="keyword">in</span> d.values():</span><br><span class="line">    <span class="keyword">print</span> value</span><br><span class="line">    sum = sum + value</span><br><span class="line"><span class="keyword">print</span> sum / len(d)</span><br></pre></td></tr></table></figure></p>
<p>##8.4迭代dict的key和value<br>首先，我们看看 dict 对象的 items() 方法返回的值：</p>
<blockquote>
<p>>&gt;&gt; d = { ‘Adam’: 95, ‘Lisa’: 85, ‘Bart’: 59 }<br>>&gt;&gt; print d.items()<br>[(‘Lisa’, 85), (‘Adam’, 95), (‘Bart’, 59)]</p>
</blockquote>
<p>可以看到，items() 方法把dict对象转换成了包含tuple的list，我们对这个list进行迭代，可以同时获得key和value：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="keyword">print</span> key, <span class="string">':'</span>, value</span><br></pre></td></tr></table></figure></p>
<p>#9列表生成式</p>
<p>##9.1 生成列表<br>列表生成式则可以用一行语句代替循环生成list：</p>
<blockquote>
<p>>&gt;&gt; [x * x for x in range(1, 11)]<br>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</p>
</blockquote>
<p>这种写法就是Python特有的列表生成式。</p>
<p>请利用列表生成式生成列表 [1x2, 3x4, 5x6, 7x8, …, 99x100]<br>提示：range(1, 100, 2) 可以生成list [1, 3, 5, 7, 9,…]<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> [x * (x+<span class="number">1</span>) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">100</span>,<span class="number">2</span>)]</span><br></pre></td></tr></table></figure></p>
<p>##9.2复杂表达式<br>假设有如下的dict：</p>
<blockquote>
<p>d = { ‘Adam’: 95, ‘Lisa’: 85, ‘Bart’: 59 }<br>完全可以通过一个复杂的列表生成式把它变成一个 </p>
</blockquote>
<p>HTML 表格：<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435371807780.png" alt="Alt text"></p>
<p>注：字符串可以通过 % 进行格式化，用指定的参数替代 %s。字符串的join()方法可以把一个 list 拼接成一个字符串。</p>
<p>在生成的表格中，对于没有及格的同学，请把分数标记为红色。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">d = &#123; <span class="string">'Adam'</span>: <span class="number">95</span>, <span class="string">'Lisa'</span>: <span class="number">85</span>, <span class="string">'Bart'</span>: <span class="number">59</span> &#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generate_tr</span><span class="params">(name, score)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> score &lt; <span class="number">60</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'&lt;tr&gt;&lt;td &gt;%s&lt;/td&gt;&lt;td style="color:red"&gt;%s&lt;/td&gt;&lt;/tr&gt;'</span> % (name, score)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;tr&gt;&lt;td&gt;%s&lt;/td&gt;&lt;td&gt;%s&lt;/td&gt;&lt;/tr&gt;'</span> % (name, score)</span><br><span class="line"></span><br><span class="line">tds = [generate_tr(name, score) <span class="keyword">for</span> name, score <span class="keyword">in</span> d.iteritems()]</span><br><span class="line"><span class="keyword">print</span> <span class="string">'&lt;table border="1"&gt;'</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Score&lt;/th&gt;&lt;tr&gt;'</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">'\n'</span>.join(tds)</span><br><span class="line"><span class="keyword">print</span> <span class="string">'&lt;/table&gt;'</span></span><br></pre></td></tr></table></figure></p>
<p>##9.3条件过滤<br>列表生成式的 for 循环后面还可以加上 if 判断。例如：</p>
<blockquote>
<p>>&gt;&gt; [x * x for x in range(1, 11)]<br>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</p>
</blockquote>
<p>如果我们只想要偶数的平方，不改动 range()的情况下，可以加上 if 来筛选：</p>
<blockquote>
<p>>&gt;&gt; [x * x for x in range(1, 11) if x % 2 == 0]<br>[4, 16, 36, 64, 100]</p>
</blockquote>
<p>请编写一个函数，它接受一个 list，然后把list中的所有字符串变成大写后返回，非字符串元素将被忽略。<br>提示：</p>
<ol>
<li>isinstance(x, str) 可以判断变量 x 是否是字符串；</li>
<li>字符串的 upper() 方法可以返回大写的字母。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">toUppers</span><span class="params">(L)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> [x.upper() <span class="keyword">for</span> x <span class="keyword">in</span> L <span class="keyword">if</span> isinstance(x, str)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> toUppers([<span class="string">'Hello'</span>, <span class="string">'world'</span>, <span class="number">101</span>])</span><br></pre></td></tr></table></figure>
<p>##9.4多层表达式<br>for循环可以嵌套，因此，在列表生成式中，也可以用多层 for 循环来生成列表。<br>对于字符串 ‘ABC’ 和 ‘123’，可以使用两层循环，生成全排列：</p>
<blockquote>
<p>>&gt;&gt; [m + n for m in ‘ABC’ for n in ‘123’]<br>[‘A1’, ‘A2’, ‘A3’, ‘B1’, ‘B2’, ‘B3’, ‘C1’, ‘C2’, ‘C3’]</p>
</blockquote>
<p>利用 3 层for循环的列表生成式，找出对称的 3 位数。例如，121 就是对称数，因为从右到左倒过来还是 121。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> [<span class="number">100</span>*x + <span class="number">10</span>*y + z <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span>) <span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">for</span> z <span class="keyword">in</span> range(<span class="number">10</span>) <span class="keyword">if</span> x==z]</span><br></pre></td></tr></table></figure></p>
<p>#10函数式编程</p>
<p>##10.1函数式编程简介<br>函数式编程时一种抽象计算的编程模式。<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435371807780.png" alt="Alt text"></p>
<p>函数式编程的特点：</p>
<ul>
<li>把计算视为函数而非指令</li>
<li>纯函数式编程：不需要变量，没有副作用，测试简单</li>
<li>支持高阶函数，代码简洁</li>
</ul>
<p>Python支持的函数式编程特点：</p>
<ul>
<li>不是纯函数式编程：允许有变量</li>
<li>支持高阶函数：函数也可以作为变量传入</li>
<li>支持闭包：有了闭包就能返回函数</li>
<li>有限度的支持匿名函数</li>
</ul>
<p>##10.2高阶函数<br>变量可以指向函数：<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435474989487.png" alt="Alt text"></p>
<p>函数名其实就是指向函数的变量：<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435475053589.png" alt="Alt text"><br>可以将abs指向len</p>
<p>高阶函数：能接收函数做参数的函数。<br>三段论：<br><img src="http://7xnzyq.com1.z0.glb.clouddn.com/201511021435475118878.png" alt="Alt text"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y, f)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> f(x) + f(y)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> add(<span class="number">25</span>, <span class="number">9</span>, math.sqrt)</span><br></pre></td></tr></table></figure>
<p>##10.3 map函数<br>map()是 Python 内置的高阶函数，它接收一个函数 f 和一个 list，并通过把函数 f 依次作用在 list 的每个元素上，得到一个新的 list 并返回。</p>
<p>注意：map()函数不改变原有的 list，而是返回一个新的 list。</p>
<p>假设用户输入的英文名字不规范，没有按照首字母大写，后续字母小写的规则，请利用map()函数，把一个list（包含若干不规范的英文名字）变成一个包含规范英文名字的list：<br>输入：[‘adam’, ‘LISA’, ‘barT’]<br>输出：[‘Adam’, ‘Lisa’, ‘Bart’]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">format_name</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> s[<span class="number">0</span>].upper() + s[<span class="number">1</span>:].lower()</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> map(format_name, [<span class="string">'adam'</span>, <span class="string">'LISA'</span>, <span class="string">'barT'</span>])</span><br></pre></td></tr></table></figure>
<p>##10.4reduce()数<br>reduce()函数也是Python内置的一个高阶函数。reduce()函数接收的参数和 map()类似，一个函数 f，一个list，但行为和 map()不同，reduce()传入的函数 f 必须接收两个参数，reduce()对list的每个元素反复调用函数f，并返回最终结果值。</p>
<p>例如，编写一个f函数，接收x和y，返回x和y的和：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br></pre></td></tr></table></figure></p>
<p>调用 reduce(f, [1, 3, 5, 7, 9])时，reduce函数将做如下计算：</p>
<blockquote>
<p>先计算头两个元素：f(1, 3)，结果为4；<br>再把结果和第3个元素计算：f(4, 5)，结果为9；<br>再把结果和第4个元素计算：f(9, 7)，结果为16；<br>再把结果和第5个元素计算：f(16, 9)，结果为25；<br>由于没有更多的元素了，计算结束，返回结果25。</p>
</blockquote>
<p>上述计算实际上是对 list 的所有元素求和。虽然Python内置了求和函数sum()，但是，利用reduce()求和也很简单。<br>reduce()还可以接收第3个可选参数，作为计算的初始值。如果把初始值设为100，计算：</p>
<blockquote>
<p>reduce(f, [1, 3, 5, 7, 9], 100)<br>结果将变为125，因为第一轮计算是：<br>计算初始值和第一个元素：f(100, 1)，结果为101。</p>
</blockquote>
<p>Python内置了求和函数sum()，但没有求积的函数，请利用recude()来求积：<br>输入：[2, 4, 5, 7, 12]<br>输出：2<em>4</em>5<em>7</em>12的结果<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">prod</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * y</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> reduce(prod, [<span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">12</span>])</span><br></pre></td></tr></table></figure></p>
<p>##10.5filter()函数<br>filter()函数是 Python 内置的另一个有用的高阶函数，filter()函数接收一个函数 f 和一个list，这个函数 f 的作用是对每个元素进行判断，返回 True或 False，filter()根据判断结果自动过滤掉不符合条件的元素，返回由符合条件元素组成的新list。<br>例如，要从一个list [1, 4, 6, 7, 9, 12, 17]中删除偶数，保留奇数，首先，要编写一个判断奇数的函数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_odd</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x % <span class="number">2</span> == <span class="number">1</span></span><br><span class="line">filter(is_odd, [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">17</span>])</span><br></pre></td></tr></table></figure></p>
<p>结果：[1, 7, 9, 17]<br>利用filter()，可以完成很多有用的功能，例如，删除 None 或者空字符串：<br>def is_not_empty(s):<br>    return s and len(s.strip()) &gt; 0<br>filter(is_not_empty, [‘test’, None, ‘’, ‘str’, ‘  ‘, ‘END’])<br>结果：[‘test’, ‘str’, ‘END’]<br>注意: s.strip(rm) 删除 s 字符串中开头、结尾处的 rm 序列的字符。<br>当rm为空时，默认删除空白符（包括’\n’, ‘\r’, ‘\t’, ‘ ‘)</p>
<p>请利用filter()过滤出1~100中平方根是整数的数，即结果应该是：<br>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_sqr</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> math.sqrt(x) % <span class="number">1</span> == <span class="number">0</span></span><br><span class="line"><span class="comment">#    return math.sqrt(x) * math.sqrt(x) == x</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> filter(is_sqr, range(<span class="number">1</span>, <span class="number">100</span>))</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_sqr</span><span class="params">(x)</span>:</span></span><br><span class="line">    t = int(math.sqrt(x))</span><br><span class="line">    <span class="keyword">return</span> t * t == x</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> filter(is_sqr, range(<span class="number">1</span>, <span class="number">100</span>))</span><br></pre></td></tr></table></figure>
<p>##10.6自定义排序函数<br>Python内置的 sorted()函数可对list进行排序：</p>
<blockquote>
<p>>&gt;&gt;sorted([36, 5, 12, 9, 21])<br>[5, 9, 12, 21, 36]</p>
</blockquote>
<p>但 sorted()也是一个高阶函数，它可以接收一个比较函数来实现自定义排序，比较函数的定义是，传入两个待比较的元素 x, y，如果 x 应该排在 y 的前面，返回 -1，如果 x 应该排在 y 的后面，返回 1。如果 x 和 y 相等，返回 0。</p>
<p>因此，如果我们要实现倒序排序，只需要编写一个reversed_cmp函数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reversed_cmp</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; y:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> x &lt; y:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>这样，调用 sorted() 并传入 reversed_cmp 就可以实现倒序排序：</p>
<blockquote>
<p>>&gt;&gt; sorted([36, 5, 12, 9, 21], reversed_cmp)<br>[36, 21, 12, 9, 5]</p>
</blockquote>
<p>sorted()也可以对字符串进行排序，字符串默认按照ASCII大小来比较。<br>对字符串排序时，有时候忽略大小写排序更符合习惯。请利用sorted()高阶函数，实现忽略大小写排序的算法。<br>输入：[‘bob’, ‘about’, ‘Zoo’, ‘Credit’]<br>输出：[‘about’, ‘bob’, ‘Credit’, ‘Zoo’]<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cmp_ignore_case</span><span class="params">(s1, s2)</span>:</span></span><br><span class="line">    temp1 = s1.lower()</span><br><span class="line">    temp2 = s2.lower()</span><br><span class="line">    <span class="keyword">if</span> temp1 &lt; temp2:</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> temp2 &gt; temp1:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> sorted([<span class="string">'bob'</span>, <span class="string">'about'</span>, <span class="string">'Zoo'</span>, <span class="string">'Credit'</span>], cmp_ignore_case)</span><br></pre></td></tr></table></figure></p>
<p>##10.7返回函数<br>定义一个函数 f()，我们让它返回一个函数 g，可以这样写：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'call f()...'</span></span><br><span class="line">    <span class="comment"># 定义函数g:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'call g()...'</span></span><br><span class="line">    <span class="comment"># 返回函数g:</span></span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure></p>
<p>仔细观察上面的函数定义，我们在函数 f 内部又定义了一个函数 g。由于函数 g 也是一个对象，函数名 g 就是指向函数 g 的变量，所以，最外层函数 f 可以返回变量 g，也就是函数 g 本身。<br>调用函数 f，我们会得到 f 返回的一个函数：</p>
<blockquote>
<p>>&gt;&gt; x = f()   # 调用f()<br>call f()…<br>>&gt;&gt; x   # 变量x是f()返回的函数：</p>
<p><function g="" at="" 0x1037bf320=""><br>>&gt;&gt; x()   # x指向函数，因此可以调用<br>call g()…   # 调用x()就是执行g()函数定义的代码</function></p>
</blockquote>
<p>请注意区分返回函数和返回值：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myabs</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> abs   <span class="comment"># 返回函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myabs2</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> abs(x)   <span class="comment"># 返回函数调用的结果，返回值是一个数值</span></span><br></pre></td></tr></table></figure></p>
<p>返回函数可以把一些计算延迟执行。<br>例如，如果定义一个普通的求和函数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_sum</span><span class="params">(lst)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> sum(lst)</span><br></pre></td></tr></table></figure></p>
<p>调用calc_sum()函数时，将立刻计算并得到结果：</p>
<blockquote>
<p>>&gt;&gt; calc_sum([1, 2, 3, 4])<br>10</p>
</blockquote>
<p>但是，如果返回一个函数，就可以“延迟计算”：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_sum</span><span class="params">(lst)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> sum(lst)</span><br><span class="line">    <span class="keyword">return</span> lazy_sum</span><br></pre></td></tr></table></figure></p>
<p>调用calc_sum()并没有计算出结果，而是返回函数:</p>
<blockquote>
<p>>&gt;&gt; f = calc_sum([1, 2, 3, 4])<br>>&gt;&gt; f</p>
<function lazy_sum="" at="" 0x1037bfaa0="">

</function></blockquote>
<p>对返回的函数进行调用时，才计算出结果:</p>
<blockquote>
<p>>&gt;&gt; f()<br>10</p>
</blockquote>
<p>由于可以返回函数，我们在后续代码里就可以决定到底要不要调用该函数。</p>
<p>请编写一个函数calc_prod(lst)，它接收一个list，返回一个函数，返回函数可以计算参数的乘积。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_prod</span><span class="params">(lst)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">()</span>:</span></span><br><span class="line">        pro = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> lst:</span><br><span class="line">            pro = pro * x</span><br><span class="line">        <span class="keyword">return</span> pro</span><br><span class="line">    <span class="keyword">return</span> product</span><br><span class="line"></span><br><span class="line">f = calc_prod([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="keyword">print</span> f()</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_prod</span><span class="params">(lst)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lazy_prod</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> x * y</span><br><span class="line">        <span class="keyword">return</span> reduce(f, lst, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> lazy_prod</span><br><span class="line">f = calc_prod([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>])</span><br><span class="line"><span class="keyword">print</span> f()</span><br></pre></td></tr></table></figure>
<p>##10.8闭包<br>在函数内部定义的函数无法被外部访问：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'g()...'</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'f()...'</span></span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure></p>
<p>将g的定义移入函数f内部，防止其他代码调用g：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">print</span> <span class="string">'f()...'</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'g()...'</span></span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure></p>
<p>但是，考察上一小节定义的 calc_sum 函数：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_sum</span><span class="params">(lst)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lazy_sum</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> sum(lst)</span><br><span class="line">    <span class="keyword">return</span> lazy_sum</span><br></pre></td></tr></table></figure></p>
<p><strong>注意：</strong>发现没法把 lazy_sum 移到 calc_sum 的外部，因为它引用了 calc_sum 的参数 lst。</p>
<p>像这种内层函数引用了外层函数的变量（参数也算变量），然后返回内层函数的情况，称为<strong>闭包（Closure）</strong>。</p>
<p><strong>闭包的特点</strong>：<br>返回的函数还引用了外层函数的局部变量，所以，要正确使用闭包，就要确保引用的局部变量在函数返回后不能变。举例如下：<br>希望一次返回3个函数，分别计算1x1,2x2,3x3:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">()</span>:</span></span><br><span class="line">             <span class="keyword">return</span> i*i</span><br><span class="line">        fs.append(f)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br></pre></td></tr></table></figure></p>
<p>可能认为调用f1()，f2()和f3()结果应该是1，4，9，但实际结果全部都是 9（请自己动手验证）。<br>原因就是当count()函数返回了3个函数时，这3个函数所引用的变量 i 的值已经变成了3。由于f1、f2、f3并没有被调用，所以，此时他们并未计算 i*i，当 f1 被调用时：</p>
<blockquote>
<p>>&gt;&gt; f1()<br>9     # 因为f1现在才计算i*i，但现在i的值已经变为3</p>
</blockquote>
<p>因此，返回函数不要引用任何循环变量，或者后续会发生变化的变量。<br><strong>返回闭包不能引用循环变量。</strong></p>
<p>考察下面的函数 f:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(j)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> j*j</span><br><span class="line">    <span class="keyword">return</span> g</span><br></pre></td></tr></table></figure></p>
<p>它可以正确地返回一个闭包g，g所引用的变量j不是循环变量，因此将正常执行。</p>
<p>正确做法是：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">()</span>:</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(j)</span>:</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">g</span><span class="params">()</span>:</span></span><br><span class="line">                <span class="keyword">return</span> j * j</span><br><span class="line">            <span class="keyword">return</span> g</span><br><span class="line">        r = f(i)</span><br><span class="line">        fs.append(r)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br><span class="line"><span class="keyword">print</span> f1(), f2(), f3()</span><br></pre></td></tr></table></figure></p>
<p>##10.9匿名函数<br>高阶函数可以接收函数做参数，有些时候，我们不需要显式地定义函数，直接传入匿名函数更方便。<br>在Python中，对匿名函数提供了有限支持。还是以map()函数为例，计算 f(x)=x2 时，除了定义一个f(x)的函数外，还可以直接传入匿名函数：</p>
<blockquote>
<p>>&gt;&gt; map(lambda x: x * x, [1, 2, 3, 4, 5, 6, 7, 8, 9])<br>[1, 4, 9, 16, 25, 36, 49, 64, 81]</p>
</blockquote>
<p>通过对比可以看出，匿名函数 lambda x: x * x 实际上就是：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * x</span><br></pre></td></tr></table></figure></p>
<p>关键字lambda 表示匿名函数，冒号前面的 x 表示函数参数。<br>匿名函数有个限制，就是只能有一个表达式，不写return，返回值就是该表达式的结果。返回函数的时候，也可以返回匿名函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_not_empty</span><span class="params">(s)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> s <span class="keyword">and</span> len(s.strip()) &gt; <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> filter(is_not_empty, [<span class="string">'test'</span>, <span class="keyword">None</span>, <span class="string">''</span>, <span class="string">'str'</span>, <span class="string">'  '</span>, <span class="string">'END'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#lamba匿名函数改写</span></span><br><span class="line"><span class="keyword">print</span> filter(<span class="keyword">lambda</span> s: s <span class="keyword">and</span> len(s.strip()) &gt; <span class="number">0</span>, [<span class="string">'test'</span>, <span class="keyword">None</span>, <span class="string">''</span>, <span class="string">'str'</span>, <span class="string">'   '</span>, <span class="string">'END'</span>])</span><br></pre></td></tr></table></figure>
            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/Android安全研究相关资源收集/" itemprop="url">
                  Android安全研究相关资源收集
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:41:52+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>不断更新中</p>
<h1 id="1权限与API">1权限与API</h1><p>PScout: Analyzing the Android Permission Specification <a href="http://pscout.csl.toronto.edu/">http://pscout.csl.toronto.edu/</a></p>
<p>pscout源码：<a href="https://github.com/dweinstein/pscout">https://github.com/dweinstein/pscout</a></p>
<h1 id="2_soot">2 soot</h1><p>源码：<a href="https://github.com/Sable/soot">https://github.com/Sable/soot</a> 教程：<a href="https://github.com/Sable/soot/wiki/Tutorials">https://github.com/Sable/soot/wiki/Tutorials</a></p>
<h1 id="3_DroidForce">3 DroidForce</h1><p><a href="https://github.com/secure-software-engineering/DroidForce">https://github.com/secure-software-engineering/DroidForce</a></p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/11/02/Android安全研究相关资源收集/" rel="contents">
              閱讀全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/library的问题/" itemprop="url">
                  解决Ubuntu运行时发生段错误,Cannot mix incompatible Qt library的问题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:40:59+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <p>去我的用户目录qizhf下查看.Genymobile隐藏目录:</p>
<blockquote>
<p>cd ~/.Genymobile</p>
</blockquote>
<p>查看genymotion的日志文件genymotion.log:</p>
          <div class="post-more-link text-center">
            <a class="btn" href="/2015/11/02/library的问题/" rel="contents">
              閱讀全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/杂七杂八工具收集/" itemprop="url">
                  杂七杂八工具收集
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:38:13+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="收集有用的工具">收集有用的工具</h1><p>不定时更新</p>
<h2 id="1_图片类">1 图片类</h2><p>在线图标制作工具　<a href="https://freeiconmaker.com/" target="_blank" rel="external">https://freeiconmaker.com/</a></p>
<p>阿里在线矢量图标生成库　<a href="http://iconfont.cn/" target="_blank" rel="external">http://iconfont.cn/</a></p>
<h2 id="2_编程类">2 编程类</h2><p>Eclipse主题　<a href="http://eclipsecolorthemes.org/" target="_blank" rel="external">http://eclipsecolorthemes.org/</a></p>
<p>嵌入式Linux网站wiki <a href="http://elinux.org/Main_Page" target="_blank" rel="external">http://elinux.org/Main_Page</a></p>
<p>在线画流程图工具 <a href="https://www.processon.com/" target="_blank" rel="external">https://www.processon.com/</a></p>
<h2 id="3_Google相关">3 Google相关</h2><p>直接下载Google Play上的应用　<a href="http://apkleecher.com/" target="_blank" rel="external">http://apkleecher.com/</a> 和 <a href="http://apps.evozi.com/apk-downloader/" target="_blank" rel="external">http://apps.evozi.com/apk-downloader/</a></p>
<h2 id="4_阅读类">4 阅读类</h2><p>豆瓣读书量统计 <a href="http://www.yuedudna.com/" target="_blank" rel="external">http://www.yuedudna.com/</a>　</p>
<p>kindle的RSS推送网站　 <a href="http://kindle4rss.com/" target="_blank" rel="external">http://kindle4rss.com/</a></p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/git使用小记/" itemprop="url">
                  git使用小记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:37:18+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1配置github">1配置github</h2><p>参考github官方文档<a href="https://help.github.com/articles/set-up-git/" target="_blank" rel="external">https://help.github.com/articles/set-up-git/</a> 配置了HTTPS和SSH连接。</p>
<h2 id="2_在github中创建版本库">2 在github中创建版本库</h2><p>略。可参见github官方文档<a href="https://help.github.com/articles/create-a-repo" target="_blank" rel="external">https://help.github.com/articles/create-a-repo</a></p>
<h2 id="3_初始化本地版本库">3 初始化本地版本库</h2><p>进入项目根目录，输入：</p>
<blockquote>
<p>git init</p>
</blockquote>
<h2 id="4_将项目文件添加到版本库中">4 将项目文件添加到版本库中</h2><p>还是在项目根目录中输入：</p>
<blockquote>
<p>git add .</p>
</blockquote>
<h2 id="5_添加项目改动说明">5 添加项目改动说明</h2><p>还是在项目根目录中输入：</p>
<blockquote>
<p>git commit -m “第一次提交，创建项目。”</p>
</blockquote>
<h2 id="6_将本地仓库与github项目仓库xxx相关联">6 将本地仓库与github项目仓库xxx相关联</h2><p>在本地项目仓库的根目录中，输入：</p>
<blockquote>
<p>git remote add origin git@github.com:yourname/xxx.git</p>
</blockquote>
<h2 id="7_将本地库的内容同步到github上">7 将本地库的内容同步到github上</h2><blockquote>
<p>git push -u origin master</p>
</blockquote>
<p><em>注意:</em>由于远程库是空的，我们第一次推送master分支时，加上了-u参数，Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。</p>
<p>如果发生了这样的错误： <code>无法推送一些引用到 &#39;git@github.com:yourname/xxx.git&#39;
提示：更新被拒绝，因为远程版本库包含您本地尚不存在的提交。这通常是因为另外
提示：一个版本库已向该引用进行了推送。再次推送前，您可能需要先整合远程变更
提示：（如 &#39;git pull ...&#39;）。</code></p>
<p>则使用强行更新 +master:</p>
<blockquote>
<p>git push -u origin +master</p>
</blockquote>
<h2 id="8_将本地库与github项目仓库相关联的另外一种办法">8 将本地库与github项目仓库相关联的另外一种办法</h2><p>在本地仓库的根目录中，输入：</p>
<blockquote>
<p>git clone <a href="https://github.com/yourname/xxx.git" target="_blank" rel="external">https://github.com/yourname/xxx.git</a></p>
</blockquote>
<p>进入xxx目录中，将所有文件复制到上一层目录中：</p>
<blockquote>
<p>cd xxx</p>
<p>cp -r * ../</p>
</blockquote>
<p>回到本地仓库根目录，删除xxx目录的所有文件</p>
<blockquote>
<p>rm -rf xxx/</p>
</blockquote>
<p>这样也能将本地仓库和远程仓库相关联，接下来可以添加文件到本地仓库，再提交内容到github。</p>
<h2 id="8_git的回滚操作">8 git的回滚操作</h2><h3 id="8-1_先使用git_log查看日志，找到想要回滚的版本">8.1 先使用git log查看日志，找到想要回滚的版本</h3><p>在项目目录中，输入</p>
<blockquote>
<p>git log</p>
</blockquote>
<p>结果如下图所示： <img src="http://dahan.qiniudn.com/gitreset.png" alt="enter image description here"></p>
<h3 id="8-2_再使用git_reset回滚到指定版本">8.2 再使用git reset回滚到指定版本</h3><blockquote>
<p>git reset –hard 4bb7bbc07f4b3792b48a6001bdfcc2b694cd3c81</p>
</blockquote>
<p>即可回滚成功。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/2014年读书统计/" itemprop="url">
                  2014年读书统计
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:36:15+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>从12年开始在豆瓣读书上记录自己读过的书，这几天看到有人把读书情况统计出来了，创意跟支付宝十年消费记录总结很像，但是找了豆瓣读书里面没有发现有这样的功能，用google发现了阅读DNA这个网站<a href="http://www.yuedudna.com/，它利用豆瓣的开放API，可以统计账户的读书数量。" target="_blank" rel="external">http://www.yuedudna.com/，它利用豆瓣的开放API，可以统计账户的读书数量。</a> 大憨2014年共读过40本书。其中五星好书18本, 12月最勤快读了7本, 平均 9.10天读一本书。不统计不知道自己比2013年少读了一半数量的书，各种审计统计还是蛮重要的，哈哈哈。</p>
<p><img src="http://dahan.qiniudn.com/2015-01-032014book1.png" alt="2014年各月读书数量"> 夏天的时候读书最少，难道是因为天气太热了？可能是因为找实习，找工作分了心。11月份买了个kindle，的确对阅读量的提高有很大的帮助。 <img src="http://dahan.qiniudn.com/2015-01-032013book1.png" alt="2013年各月读书数量"> 13年读书1月份、3月份读书多那是因为把以前自己读过的书，能想起来的也给记录了。</p>
<p><img src="http://dahan.qiniudn.com/2015-01-032012-2014.png" alt="12-14年对比"></p>
<p>2014年读的书: <img src="http://dahan.qiniudn.com/2015-01-032014book2.png" alt="2014年读的书"></p>
<p>读研以后，各种书读的比以前多了，读书到一定量后，知道书中哪些东西需要看慢一点，哪些东西可以看快点，感觉自己读书的速度也变快了。</p>
<p>2015年的目标，根据自己的工作和兴趣爱好，每周最少读一本书，总共读60本以上。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/App二次打包/" itemprop="url">
                  App二次打包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:35:24+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="Android_APP二次打包">Android APP二次打包</h1><h1 id="1_使用Apktool逆向应用">1 使用Apktool逆向应用</h1><blockquote>
<p>apktool d xxx.apk xxx-re</p>
</blockquote>
<h1 id="2_修改逆向出来的smali文件">2 修改逆向出来的smali文件</h1><h1 id="3_使用apktool重新打包">3 使用apktool重新打包</h1><p>进入xxx-re目录中：</p>
<blockquote>
<p>apktool b</p>
</blockquote>
<p>进入dist目录，修改重新打包的apk的名字xxx1.apk.</p>
<h1 id="4_生成签名证书">4 生成签名证书</h1><blockquote>
<p>keytool -genkey -v -keystore nstrt -alias nstrt -keyalg RSA -keysize 2048 -validity 365</p>
</blockquote>
<h1 id="5_使用第4步生成的证书对apk进行签名">5 使用第4步生成的证书对apk进行签名</h1><blockquote>
<p>jarsigner -verbose -sigalg MD5withRSA -digestalg SHA1 -keystore nstrt xxx1.apk nstrt</p>
</blockquote>
<h1 id="6对签名后的App进行优化">6对签名后的App进行优化</h1><blockquote>
<p>zipalign -v 4 xxx1.apk xxx_align.apk</p>
</blockquote>
<h1 id="7_使用测试用的签名证书">7 使用测试用的签名证书</h1><blockquote>
<p>java -jar signapk.jar testkey.x509.pem testkey.pk8 xxx_align.apk xxx_new.apk</p>
</blockquote>
<h1 id="8第５步和第７步的区别">8第５步和第７步的区别</h1><p>如果apk中申请的有系统权限，则需要执行第７步的操作，否则，只要第５步的即可。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/Kali更新Metaploit失败解决办法/" itemprop="url">
                  Kali更新Metaploit失败解决办法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:34:31+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <p>Kali的Metasploit两个多星期没有用，没有更新，再去更新使用，发生了如下的错误：</p>
<blockquote>
<p>无法下载 <a href="http://http.kali.org/kali/pool/main/m/metasploit-framework/metasploit-framework_4.10.0-2014101501-1kali0_amd64.deb" target="_blank" rel="external">http://http.kali.org/kali/pool/main/m/metasploit-framework/metasploit-framework_4.10.0-2014101501-1kali0_amd64.deb</a> 404 Not Found 无法下载 <a href="http://http.kali.org/kali/pool/non-free/m/metasploit/metasploit_4.10.0-2014101501-1kali0_amd64.deb" target="_blank" rel="external">http://http.kali.org/kali/pool/non-free/m/metasploit/metasploit_4.10.0-2014101501-1kali0_amd64.deb</a> 404 Not Found E: 有几个软件包无法下载，您可以运行 apt-get update 或者加上 –fix-missing 的选项再试试？</p>
</blockquote>
<p>原来用的是官方源，换了阿里云的kali源，成功解决办法。 阿里云Kali源为：</p>
<blockquote>
<p>deb <a href="http://mirrors.aliyun.com/kali" target="_blank" rel="external">http://mirrors.aliyun.com/kali</a> kali main non-free contrib deb-src <a href="http://mirrors.aliyun.com/kali" target="_blank" rel="external">http://mirrors.aliyun.com/kali</a> kali main non-free contrib deb <a href="http://mirrors.aliyun.com/kali-security" target="_blank" rel="external">http://mirrors.aliyun.com/kali-security</a> kali/updates main contrib non-free</p>
</blockquote>
<p>修改软件更新源配置文件：</p>
<blockquote>
<p>leafpad /etc/apt/sources.list</p>
</blockquote>
<p>将阿里云的Kali源粘贴进去，同时将官方源用#号注释掉。 再:</p>
<blockquote>
<p>apt-get update apt-get upgrade</p>
</blockquote>
<p>升级Kali</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/Android取证基础知识/" itemprop="url">
                  Android取证基础知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:30:54+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h2 id="1_常用命令">1 常用命令</h2><p>df -h 查看挂载的设备 dmesg 用来显示开机信息，kernel会将开机信息存储在ring buffer中。您若是开机时来不及查看信息，可利用dmesg来查看。开机信息亦保存在/var/log目录中，名称为dmesg的文件里。 开机时候的硬件检测信息在这里面存着。</p>
<h2 id="2_数据恢复工具sleuthkit">2 数据恢复工具sleuthkit</h2><p>先了解了，以后再深入学习使用。</p>
<blockquote>
<p>sudo apt-get install sluthkit sudo apt-get install autospy</p>
</blockquote>
<p>查看某个分区命令：</p>
<blockquote>
<p>sudo fsstat /dev/sdc sudo mmls /dev sdb</p>
</blockquote>
<h2 id="3_Android数据存储">3 Android数据存储</h2><p>持久数据存储的五种存储方式： - 共享优先 - 内部存储 - 外部存储 - SQLite - 网络</p>
<p>Android应用一般把数据存储在两个地方：内部存储和外部存储。应用在安装的时候会在内部存储的</p>
<h3 id="3-1_共享优先">3.1 共享优先</h3><p>Shared Preference是一种简单的、轻量级的名称/值对（VNP)机制，用于保存原始应用程序数据，最常见的是用户的应用程序首选项。存储格式为XML，存储的类型有： - boolean - folat 单精度32位IEEE 754浮点数 - int - long - strings 通常是utf-8编码</p>
<p>比如美团的客户端： <img src="http://dahan.qiniudn.com/2014.8.7forensics1.png" alt="Alt text"></p>
<p>其中loginStroe.xml内容如下：<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">'1.0'</span> encoding=<span class="string">'utf-8'</span> standalone=<span class="string">'yes'</span> ?&gt;</span><br><span class="line">&lt;map&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"bindedBankCard"</span> <span class="keyword">value</span>=<span class="string">"0"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"hasPaymentPassword"</span> <span class="keyword">value</span>=<span class="string">"0"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"saveAmount"</span>&gt;<span class="number">0.0</span>&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"avatarurl"</span>&gt;&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">long</span> name=<span class="string">"id"</span> <span class="keyword">value</span>=<span class="string">"32793294"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"username"</span>&gt;大憨<span class="number">846</span>&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"token"</span>&gt;×××××××××××××××××××&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"value"</span>&gt;<span class="number">0.0</span>&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"growthlevel"</span> <span class="keyword">value</span>=<span class="string">"2"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"hasPassword"</span> <span class="keyword">value</span>=<span class="string">"1"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"saveTimes"</span> <span class="keyword">value</span>=<span class="string">"0"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"pointvalue"</span> <span class="keyword">value</span>=<span class="string">"164"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"growthvalue"</span> <span class="keyword">value</span>=<span class="string">"1167"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"SID"</span>&gt;××××××××××××××××&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">null</span> name=<span class="string">"al"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"isAppUser"</span> <span class="keyword">value</span>=<span class="string">"1"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"oauth_login_result"</span>&gt;&#123;&amp;quot;a&amp;quot;:&amp;quot;tencent&amp;quot;,&amp;quot;b&amp;quot;:&amp;quot;E765B31B8DB83B6309D41A472ED9093D&amp;quot;,&amp;quot;d&amp;quot;:&amp;quot;&amp;quot;,&amp;quot;c&amp;quot;:<span class="number">1401330213950</span>&#125;&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"email"</span>&gt;&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"avatartype"</span> <span class="keyword">value</span>=<span class="string">"0"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"reallevel"</span> <span class="keyword">value</span>=<span class="string">"2"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"loginTimes"</span> <span class="keyword">value</span>=<span class="string">"19"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">int</span> name=<span class="string">"bindedMobile"</span> <span class="keyword">value</span>=<span class="string">"1"</span> /&gt;</span><br><span class="line">&lt;<span class="keyword">string</span> name=<span class="string">"mobile"</span>&gt;<span class="number">135</span>****×××××××&lt;/<span class="keyword">string</span>&gt;</span><br><span class="line">&lt;/map&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-2_内部存储">3.2 内部存储</h3><p>在内部存储器上的/data/data目录下建立一个以应用程序包名为名字的子目录存储应用的数据。 最常见的应用程序数据标准目录为： <strong>表1 /data/data/&lt;软件包名称&gt;子目录</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">目录</th>
<th style="text-align:left">作用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">shared_prefs</td>
<td style="text-align:left">以XML格式存储的共享优先目录</td>
</tr>
<tr>
<td style="text-align:left">lib</td>
<td style="text-align:left">自定义的库文件</td>
</tr>
<tr>
<td style="text-align:left">files</td>
<td style="text-align:left">开发者存储的文件</td>
</tr>
<tr>
<td style="text-align:left">cache</td>
<td style="text-align:left">应用程序缓存文件</td>
</tr>
<tr>
<td style="text-align:left">databases</td>
<td style="text-align:left">SQLite数据库和日志文件</td>
</tr>
</tbody>
</table>
<h3 id="3-3_外部存储">3.3 外部存储</h3><h3 id="3-4_SQLite">3.4 SQLite</h3><p>Android应用的SQLite文件通常存储在内部存储器的/data/data/&lt;应用程序包名&gt;/databases目录下，属于应用私有的，只能被创建他们的应用程序访问。但是，对于在其他地方创建的数据库没有设置任何限制。 <img src="http://dahan.qiniudn.com/2014.8.7forensics2.png" alt="Alt text"></p>
<p>如何将其拷贝出来? 这主要是因为权限问题，adb shell中使用命令su root转为root权限，然后修改文件夹和文件的权限为777</p>
<blockquote>
<p>adb shell su root chmod 777 /data/data/com.sankuai.meituan/databases chmod 777 /data/data/com.sankuai.meituan/databases/meituan.db</p>
</blockquote>
<p>再在Ubutud的另外一个终端中输入：</p>
<blockquote>
<p>adb pull /data/data/com.sankuai.meituan/databases/meituan.db</p>
</blockquote>
<p>将meituan.db拷贝到了Ubuntu终端中的当前目录</p>
<p>拷贝出来后，可以使用一下sqlite3命令打开</p>
<blockquote>
<p>sqlite3 dbname.db</p>
</blockquote>
<p>然后可以用SQL语句查看数据库</p>
<p><img src="http://dahan.qiniudn.com/2014.8.7forensics3.png" alt="Alt text"></p>
<p>或者使用图形界面的SQLite管理工具，在Ubuntu下，大憨推荐使用SQLiteMan。</p>
<h2 id="4_内核、系统和应用日志">4 内核、系统和应用日志</h2><h3 id="4-1_Linux内核日志">4.1 Linux内核日志</h3><p>使用命令dmesg查看。</p>
<h3 id="4-2_Logcat">4.2 Logcat</h3><p>Logcat 显示系统更新和应用程序调试信息 <strong>查看无线电日志</strong>：</p>
<blockquote>
<p>adb shell logcat -b radio</p>
</blockquote>
<p>这些日志有如下信息： - 事件时间（以UNIX时间格式表达） - 蜂窝调制解调器进行通信使所使用的AT命令 - 接收者、时间以及编码的短信消息 - 终端设备的蜂窝IP地址、网络以及地点信息 - 无线通信服务提供商信息</p>
<p><em>tips Unix 时间转标准时间:</em></p>
<blockquote>
<p>date -d @1407199900</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.8.7forensics4.png" alt="Alt text"></p>
<p><strong>查看事件日志</strong></p>
<blockquote>
<p>adb shell logcat -b event</p>
</blockquote>
<h3 id="4-3_dumpsys">4.3 dumpsys</h3><p>dumpsys提供关于服务、存储及系统其他方面很细节的信息。</p>
<blockquote>
<p>dumpsys [Option] [package_name | pid] Option: meminfo 显示内存信息 cpuinfo 显示CPU信息 account 显示accounts信息,感觉这个最有用了 activity 显示所有的activities的信息 window 显示键盘，窗口和它们的关系 wifi 显示wifi信息 location 显示位置信息，有基站和GPS的 更多信息： 1 SurfaceFlinger 2 accessibility 3 account 4 activity 5 alarm 6 appwidget 7 audio 8 backup 9 battery 10 batteryinfo 11 bluetooth 12 bluetooth_a2dp 13 clipboard 14 connectivity 15 content 16 cpuinfo 17 device_policy 18 devicestoragemonitor 19 diskstats 20 dropbox 21 entropy 22 ethernet 23 hardware 24 input_method 25 iphonesubinfo 26 isms 27 keybar 28 location 29 media.audio_flinger 30 media.audio_policy 31 media.camera 32 media.player 33 meminfo 34 mount 35 netstat 36 network_management 37 notification 38 package 39 permission 40 phone 41 power 42 search 43 sensorservice 44 simphonebook 45 statusbar 46 telephony.registry 47 throttle 48 uimode 49 usagestats 50 vibrator 51 wallpaper 52 wifi 53 window</p>
</blockquote>
<h3 id="4-4_dumpstate">4.4 dumpstate</h3><p>显示了很多调试信息和系统信息。 dumpstate信息：</p>
<table><br>  <thead><br>    <tr><br>      <th align="left"><br>        分段区域<br>      </th><br><br>      <th align="left"><br>        文件或者命令<br>      </th><br><br>      <th align="left"><br>        备注<br>      </th><br>    </tr><br>  </thead><br><br>  <tbody><br>    <tr><br>      <td align="left"><br>        Strack traces<br>      </td><br><br>      <td align="left"><br>        没有<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Device info<br>      </td><br><br>      <td align="left"><br>        没有<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        System<br>      </td><br><br>      <td align="left"><br>        没有<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Memory info<br>      </td><br><br>      <td align="left"><br>        /proc/meminfo<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Cpu info<br>      </td><br><br>      <td align="left"><br>        top -n 1 -d 1 -m 30 -t<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Procrank<br>      </td><br><br>      <td align="left"><br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Virtual memory stats<br>      </td><br><br>      <td align="left"><br>        /proc/vmstat<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Vmalloc info<br>      </td><br><br>      <td align="left"><br>        /proc/vmallocinfo<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Slab info<br>      </td><br><br>      <td align="left"><br>        /proc/slabinfo<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Zone info<br>      </td><br><br>      <td align="left"><br>        /proc/zoneinfo<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        System log<br>      </td><br><br>      <td align="left"><br>        logcat -v time -d <em>:v<br>      </em></td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Envent log<br>      </td><br><br>      <td align="left"><br>        logcat -b envents -v time -d :v<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Radio log<br>      </td><br><br>      <td align="left"><br>        logcat -b radio -v time -d *:v<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Network interfaces<br>      </td><br><br>      <td align="left"><br>        netcfg<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Network routes<br>      </td><br><br>      <td align="left"><br>        /proc/net/route<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Arp cache<br>      </td><br><br>      <td align="left"><br>        /proc/net/arp<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Dump Wi-Fi firmware log<br>      </td><br><br>      <td align="left"><br>        su root dhutil -i eth0 upload/data/local/tmp/ wlan_crash.dump<br>      </td><br><br>      <td align="left"><br>        命令未成功<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        System propertiess<br>      </td><br><br>      <td align="left"><br>        没有<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Kernel log<br>      </td><br><br>      <td align="left"><br>        dmesg<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Kernel wakelocks<br>      </td><br><br>      <td align="left"><br>        /proc/wakelocks<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Kernel cpufreq<br>      </td><br><br>      <td align="left"><br>        /sys/devices/system/cpu/cpu0/cpufreq/stats/time_in_state<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Vold dump<br>      </td><br><br>      <td align="left"><br>        vdc dump<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Secure containers<br>      </td><br><br>      <td align="left"><br>        vdc asec list<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Processes<br>      </td><br><br>      <td align="left"><br>        ps -p<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Processes and threads<br>      </td><br><br>      <td align="left"><br>        ps -t -p -p<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Librank<br>      </td><br><br>      <td align="left"><br>        (librank)<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Binder failed transaction log<br>      </td><br><br>      <td align="left"><br>        /proc/binder/failed_transcation_log<br>      </td><br><br>      <td align="left"><br>        华为M1未发现<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Binder transaciton log<br>      </td><br><br>      <td align="left"><br>        /proc/binder/transcation_log<br>      </td><br><br>      <td align="left"><br>        华为M1未发现<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Binder transcations<br>      </td><br><br>      <td align="left"><br>        /proc/binder/transcations<br>      </td><br><br>      <td align="left"><br>        华为M1未发现<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Binder stats<br>      </td><br><br>      <td align="left"><br>        /proc/binder/stats<br>      </td><br><br>      <td align="left"><br>        华为M1未发现<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Binder process stat<br>      </td><br><br>      <td align="left"><br>        sh -c cat/proc/binder/proc/ -p<br>      </td><br><br>      <td align="left"><br>        华为M1未发现<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        File System and free space<br>      </td><br><br>      <td align="left"><br>        df<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Package settings<br>      </td><br><br>      <td align="left"><br>        /data/system/packages.xml<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Package uid errors<br>      </td><br><br>      <td align="left"><br>        /data/system/uiderrors.txt<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Last kmsg<br>      </td><br><br>      <td align="left"><br>        /proc/last_kmsg<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Last radio log<br>      </td><br><br>      <td align="left"><br>        parse_radio_log/proc/last_radio_log<br>      </td><br><br>      <td align="left"><br>        华为M1未发现<br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Last panic console<br>      </td><br><br>      <td align="left"><br>        /data/dontpanic/apanic_console<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Last panic threads<br>      </td><br><br>      <td align="left"><br>        /data/dontpanic/apanic_threads<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Blocked process wait<br>      </td><br><br>      <td align="left"><br>        没有<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        channels<br>      </td><br><br>      <td align="left"><br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Backlights<br>      </td><br><br>      <td align="left"><br>        没有<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br><br>    <tr><br>      <td align="left"><br>        Dumpsys<br>      </td><br><br>      <td align="left"><br>        dumpsys<br>      </td><br><br>      <td align="left"><br>      </td><br>    </tr><br>  </tbody><br></table>

<h3 id="4-5_bugreporter">4.5 bugreporter</h3><p>将logcat、dumpsys和dumpstate输出结合在一起，提交调试报告。 可将结果重定向到一个文件中，以便分析。</p>
<h2 id="5_RAM进程内存转储">5 RAM进程内存转储</h2><p>在POSIX兼容的平台上，SIGUSR1和SIGUSR2是发送给一个进程的信号，它表示了用户定义的情况。它们的符号常量在头文件signal.h中定义。在不同的平台上，信号的编号可能发生变化。</p>
<p>Android将应用程序所使用的内存转储成为一个文件的机制：向该应用程序发送一个特别的信号（SIGUSR1），信号编号为1294。 具体操作步骤： S1 改变转储结果所在目录的访问权限：</p>
<blockquote>
<p>adb shell su root chmod 777 /data/misc</p>
</blockquote>
<p>S2 在获取应用程序的进程号，比如美团客户端的：</p>
<blockquote>
<p>adb shell ps | grep meituan</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.8.7forensics5.png" alt="Alt text"></p>
<p>其PID为14606</p>
<p>S3 使用kill命令向进程发送信号：</p>
<blockquote>
<p>kill -10 14606</p>
</blockquote>
<p>可是没有成功，后来查询stack overflow才知道，在新Android的新平台上已经舍弃了这种方法。 可以使用MAT。</p>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2015/11/02/使用drozer对Android应用进行安全评估/" itemprop="url">
                  使用drozer对Android应用进行安全评估
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            發表於
            <time itemprop="dateCreated" datetime="2015-11-02T02:28:21+08:00" content="2015-11-02">
              2015-11-02
            </time>
          </span>

          

          
            
          

          

        </div>
      </header>
    


    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody">
            
              <h1 id="使用drozer对Android应用进行安全评估的测试例子">使用drozer对Android应用进行安全评估的测试例子</h1><p>看着drozer的用户说明文档，试了几个Android App,测试发现这几个App都基本没什么问题，只好又用drozer提供的sieve来进行练习了。进行安装评估的步骤一般也就是下面的标题步骤了。</p>
<h2 id="1_在Android设备上安装使用sieve">1 在Android设备上安装使用sieve</h2><p>sieve是一个密码管理器App，用来展示Android应用的一些共同缺陷，可以用来练习使用drozer。 <a href="https://www.mwrinfosecurity.com/system/assets/380/original/sieve.apk" target="_blank" rel="external">https://www.mwrinfosecurity.com/system/assets/380/original/sieve.apk</a>下载sieve.apk。 打开模拟器，安装sieve： <code>adb intsall sieve apk</code> 然后设置sieve，第一次使用需要设置打开sieve软件的密码和PIN码。 给sieve增加内容，添加一些要管理的帐号密码信息 <img src="http://dahan.qiniudn.com/2014.7.25sieve1.png" alt="Alt text"></p>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve2.png" alt="Alt text"></p>
<p>在seting里面还有其他的功能：</p>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve3.png" alt="Alt text"></p>
<h2 id="2_获取App_Package信息">2 获取App Package信息</h2><p>drozer每个模块的作用： <img src="http://dahan.qiniudn.com/2014.7.25sieve4.png" alt="Alt text"></p>
<p>获取App包信息的模块是<em>\</em>app.package.* **: <img src="http://dahan.qiniudn.com/2014.7.25sieve5.png" alt="Alt text"></p>
<h3 id="2-1获取获取Android设备上的所有的安装的App的包名">2.1获取获取Android设备上的所有的安装的App的包名</h3><p>命令是：</p>
<blockquote>
<p>run app.package.info -a com.mwr.example.sieve</p>
<p>run app.package.list</p>
</blockquote>
<p>这条命令会把所有的App都列出来，如果想具体查找某个App可加上<strong>-f [App关键字]</strong>的参数，如查找sieve在Android设备中的包名：</p>
<blockquote>
<p>run app.package.list -f sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve6.png" alt="Alt text"></p>
<p><strong>注意:</strong>在输入命令时可以使用<em>Tab</em>键自动补齐 需要记住com.mwr.example.sieve的包名，以后的命令要针对这个操作</p>
<h3 id="2-2获取sieve的一些基本信息">2.2获取sieve的一些基本信息</h3><p>命令是：</p>
<blockquote>
<p>run app.package.info -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve7.png" alt="Alt text"></p>
<p>可以看到Sieve的版本信息，数据存储的目录，用户ID,组ID,是否有共享库，还有权限信息等。</p>
<h3 id="2-3Itentify_the_Attack_Surface(确定攻击面？)">2.3Itentify the Attack Surface(确定攻击面？)</h3><p>这个测试教程主要关注的是Android 固有的IPC通信机制的脆弱性，这些特点导致了App泄漏敏感信息给同一台设备上的其它App。 查找可以进行Attack Surface的组件的命令：</p>
<blockquote>
<p>run app.package.attacksurface com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve8.png" alt="Alt text"></p>
<p>结果显示了潜在可以利用的组件个数： “exported”表示组件可以被其他App使用。 services is debuggable表示我们可以用adb绑定一个调试器到进程。</p>
<h3 id="2-4进一步获取Attack_Surface的信息">2.4进一步获取Attack Surface的信息</h3><p>如进一步获取ativity组建的attack surface信息的命令是：</p>
<blockquote>
<p>run app.activity.info -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve9.png" alt="Alt text"></p>
<p>其中上图的MainLoginActivity是程序启动时主界面，必须是exported，其他两个activity是理论上说是不能exported的。</p>
<h3 id="2-5启动Activities">2.5启动Activities</h3><p>上图的PWList和FileSelectActivity是exported并且不需要任何权限，我们可以用drozer启动他们，比如感觉PWList这个含金量应该大一点，所以就启动它了，命令是：</p>
<blockquote>
<p>run app.activity.start –component com.mwr.example.sieve com.mwr.example.sieve.PWList</p>
</blockquote>
<p>启动后的效果：</p>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve10.png" alt="Alt text"></p>
<p>app.activity.start的使用方法：</p>
<blockquote>
<p>help app.activity.start usage: run app.activity.start [-h] [–action ACTION] [–category CATEGORY [CATEGORY …]] [–component PACKAGE COMPONENT] [–data-uri DATA_URI] [–extra TYPE KEY VALUE] [–flags FLAGS [FLAGS …]] [–mimetype MIMETYPE]</p>
<p>Starts an Activity using the formulated intent.</p>
</blockquote>
<h3 id="2-6从Content_Provider中获取信息">2.6从Content Provider中获取信息</h3><p>接上2.3节，进一步获取content provider的attact surface的信息的命令是：</p>
<blockquote>
<p>run app.provider.info -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve11.png" alt="Alt text"> 从上图可以看到2.3节中两个exported的content provider的具体信息，包括名字，权限，访问路径等。</p>
<h4 id="2-6-1查找可以访问content_provider的URI（数据泄漏）">2.6.1查找可以访问content provider的URI（数据泄漏）</h4><p>从上节图中我们猜测DBContentProvider会有某种格式的数据库，但是我们不知道其中的数据是如何组织的。Content URI必须是 “<em>content://<authority>/</authority></em>” 的形式,因此我们可以构造部分的content URIs来访问DBcontent Provider。 上图存在一个需要READ_KEYS和WRITE_KEYS权限才能读和写的“/Keys”的路径。</p>
<p>drozer的scanner模块提供了一些方法去猜测可能存在的content URIs：</p>
<blockquote>
<p>run scanner.provider.finduris -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve12.png" alt="Alt text"> 上图中检测出了可以访问content的URI，接下来我们可以用drozer的其他模块和URI从content中获取，甚至更改信息。 如：</p>
<blockquote>
<p>run app.provider.query content://com.mwr.example.sieve.DBContentProvider/Passwords/ –vertical</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve13.png" alt="Alt text"> 如上图我们获取了用户名，邮箱帐号，和Base64编码的密码字符串。</p>
<h4 id="2-6-2进行SQL注入">2.6.2进行SQL注入</h4><p>Android操作系统建议使用SQLite数据库存储用户数据。SQLite数据库使用SQL语句，所以可以进行SQL注入。 <strong>使用<em>projection</em>参数和<em>seleciton</em>参数可以传递一些简单的SQL注入语句到Content provider</strong>。如：</p>
<blockquote>
<p>run app.provider.query content://com.mwr.example.sieve.DBContentProvider/Passwords/ –projection “‘“</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve14.png" alt="Alt text"></p>
<blockquote>
<p>run app.provider.query content://com.mwr.example.sieve.DBContentProvider/Passwords/ –selection “‘“</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve15.png" alt="Alt text"></p>
<p>上面两条命令执行后Android设备返回了非常详细的错误信息。</p>
<p>使用Sql注入列出数据库中的所有数据表：</p>
<blockquote>
<p>run app.provider.query content://com.mwr.example.sieve.DBContentProvider/Passwords/ –projection “* FROM SQLITE_MASTER WHERE type=’table’;–”</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve16.png" alt="Alt text"></p>
<p><strong>使用SQL注入列出数据表的内容</strong>：</p>
<blockquote>
<p>run app.provider.query content://com.mwr.example.sieve.DBContentProvider/Passwords/ –projection “* FROM Key;–”</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve17.png" alt="Alt text"></p>
<h4 id="2-6-3从File_System-backed_Content_Providers获取信息">2.6.3从File System-backed Content Providers获取信息</h4><p>File System-backed Content Provider提供了访问底层文件系统的方法，Android沙盒会阻止App共享文件允许，而File System-backed Content Provider允许App共享文件。 对于sieve来说，我们可以推测出的FileBackupProvider就是一个file system-backed content provider。 我们可以使用drozer的<strong>app.provider.read模块查看某个文件</strong>：</p>
<blockquote>
<p>run app.provider.read content://com.mwr.example.sieve.FileBackupProvider/etc/hosts</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve18.png" alt="Alt text"></p>
<p><strong>可以使用app.provider.download下载文件</strong></p>
<blockquote>
<p>run app.provider.download content://com.mwr.example.sieve.FileBackupProvider/data/data/com.mwr.example.sieve/databases/database.db /home/user/database.db</p>
</blockquote>
<h4 id="2-6-4检查Content_Provider的脆弱性">2.6.4检查Content Provider的脆弱性</h4><p><strong>检查是否有SQL注入：</strong></p>
<blockquote>
<p>run scanner.provider.injection -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve19.png" alt="Alt text"></p>
<p><strong>检查是否存在遍历文件的漏洞</strong></p>
<blockquote>
<p>run scanner.provider.traversal -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve20.png" alt="Alt text"></p>
<p><strong>总结体会</strong>：我觉得在刚开始获取了软件包的基本信息后，就先用模块scanner里面的工具扫一扫，找到一些漏洞或者利用点后再进行下一步。</p>
<h3 id="2-7和Services交互">2.7和Services交互</h3><p><strong>获取是exported状态的services的命令：</strong></p>
<blockquote>
<p>run app.service.info -a com.mwr.example.sieve</p>
</blockquote>
<p><img src="http://dahan.qiniudn.com/2014.7.25sieve21.png" alt="Alt text"></p>
<p>关于Services的模块： <img src="http://dahan.qiniudn.com/2014.7.25sieve22.png" alt="Alt text"></p>
<p>如向某个服务发送信息：</p>
<blockquote>
<p>run app.service.send com.mwr.example.sieve com.mwr.example.sieve.CryptoService –msg 1 5 3</p>
</blockquote>
<p>返回的结果： <img src="http://dahan.qiniudn.com/2014.7.25sieve13.png" alt="Alt text"> 没搞明白为什么返回这个，段数还不够。</p>
<h3 id="2-8_其他常用模块">2.8 其他常用模块</h3><ul>
<li>shell.start 在Android设备上开启一个交互式Linux Shell</li>
<li>tools.file.upload / tools.file.download</li>
<li>tools.setup.busybox / tools.setup.minimalsu 安装busybox或者minimalsu到Android设备上</li>
</ul>

            
          </span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    

  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



        </div>

        


        

      </div>

      
        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="//default_avatar.jpg" alt="憨哥" itemprop="image"/>
          <p class="site-author-name" itemprop="name">憨哥</p>
        </div>
        <p class="site-description motion-element" itemprop="description">一辈子太长有做个有趣的人</p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/">
              <span class="site-state-item-count">17</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            
              <span class="site-state-item-count">0</span>
              <span class="site-state-item-name">標籤</span>
              
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


      
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-next-heart fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">憨哥</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top"></div>
  </div>

  <script type="text/javascript" src="//jquery/index.js?v=2.1.3"></script>

  
  

  
    
    

  


  

  

  <script type="text/javascript" src="//helpers.js?v="></script>
  <script type="text/javascript" src="//velocity/velocity.min.js"></script>
<script type="text/javascript" src="//velocity/velocity.ui.min.js"></script>

<script type="text/javascript" src="//motion.js?v=" id="motion.global"></script>


  <script type="text/javascript" src="//fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  <script type="text/javascript" src="//jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  

  <script type="text/javascript" src="//bootstrap.js"></script>

  
  

  
  

</body>
</html>
